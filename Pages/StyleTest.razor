@page "/styletest"
@using mudblazorserver1.Data
@using System.ComponentModel.DataAnnotations
@using MudBlazor.Services
@* @inject IDialogService DialogService *@


<MudText Typo="Typo.h2" GutterBottom="true"> Styling</MudText> 
<Cart ItemCount = "@itemCount"/>
<MudGrid Class="mb-16">
  @for (int i = 0; i < cards.Count; i++)
  {
    var item = cards[i];
    var index = i;
    <Goods 
      Id = "@item.Id"
      Title = "@item.Title"
      Text = "@item.Text"
      Range = "@item.Range"
      IsChecked = "@item.IsChecked"
      SetItemCount = "SetCount"
      RemoveGoods = "RemoveItem"
      RemoveGoodsCount = "RemoveItemCount"
      
    />
  }
</MudGrid>

@code {
  List<CardModel> cards = new List<CardModel>();
  Random rnd = new Random();

  private int itemCount = 0;
  private void SetCount(bool isIncrease)
  {
    
      if(isIncrease)
        itemCount++;
      else
        itemCount--;
  }
  private void RemoveItem(int id)
  {
    cards.RemoveAll(x=>x.Id==id);
  }
  private void RemoveItemCount(int count)
  {
    itemCount -= count;
  }

  protected override void OnInitialized()
  {
    cards.Add(new CardModel { Id = 0, Title = "Title-1", IsChecked = false, Range = rnd.Next(0, 6), Text = "Lorem ipsum dolor, sit amet consectetur adipisicing elit. Earum, unde hic quos beatae obcaecati repellat maxime aspernatur delectus nostrum mollitia natus reiciendis iusto voluptatum!"});
    cards.Add(new CardModel { Id = 1, Title = "Title-2", IsChecked = false, Range = rnd.Next(0, 6), Text = "Lorem ipsum dolor. Lorem ipsum dolor, sit amet consectetur adipisicing elit."});
    cards.Add(new CardModel { Id = 2, Title = "Title-3", IsChecked = false, Range = rnd.Next(0, 6), Text = "Lorem ipsum dolor siLorem ipsum dolor, sit amet consectetur adipisicing elit. Earum, unde hic quos beatae obcaecati repellat maxime aspernatur delectus nostrum mollitia natus reiciendis iusto voluptatum!t amet consectetur. Lorem ipsum dolor sit amet consectetur."});
    cards.Add(new CardModel { Id = 3, Title = "Title-4", IsChecked = false, Range = rnd.Next(0, 6), Text = "Lorem ipsum dolor, sit amet consectetur adipisicing elit. Earum, unde hic quos beatae obcaecati repellat maxime aspernatur delectus nostrum mollitia natus reiciendis iusto voluptatum! Lorem ipsum dolor, sit amet consectetur adipisicing elit."});
    cards.Add(new CardModel { Id = 4, Title = "Title-5", IsChecked = false, Range = rnd.Next(0, 6), Text = "Lorem ipsum dolor siLorem ipsum dolor, sit amet consectetur adipisicing elit. Earum, unde hic quos beatae obcaecati repellat maxime aspernatur delectus nostrum mollitia natus reiciendis iusto voluptatum!t amet consectetur. Lorem ipsum dolor sit amet consectetur."});
    cards.Add(new CardModel { Id = 5, Title = "Title-6", IsChecked = false, Range = rnd.Next(0, 6), Text = "Lorem ipsum dolor. Lorem ipsum dolor."});
    cards.Add(new CardModel { Id = 6, Title = "Title-7", IsChecked = false, Range = rnd.Next(0, 6), Text = "Lorem ipsum dolor. Lorem ipsum dolor."});
    cards.Add(new CardModel { Id = 7, Title = "Title-8", IsChecked = false, Range = rnd.Next(0, 6), Text = "Lorem ipsum dolor. Lorem ipsum dolor."});
  }


}
